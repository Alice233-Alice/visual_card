<head><script type="module">var e={502(e,a){a.A=(e,a)=>{const t=e.__vccOpts||e;for(const[e,n]of a)t[e]=n;return t}}},a={};const t=Vue;const n={class:'card-inner'},r={class:'card-front'},c=['src','alt'],s={class:'card-name'},o={class:'card-back'},d={class:'back-content'},l={class:'back-text'},i=(0,t.defineComponent)({__name:'Card',props:{data:{}},setup(e){const a=e,i=(0,t.ref)(!1),p=()=>{i.value=!i.value};return(u,m)=>{return(0,t.openBlock)(),(0,t.createElementBlock)('div',{class:(0,t.normalizeClass)(['visual-card',{flipped:i.value}]),onClick:p},[(0,t.createElementVNode)('div',n,[(0,t.createElementVNode)('div',r,[(0,t.createElementVNode)('img',{src:(v=e.data.img_code,`https://placehold.co/200x300?text=${encodeURIComponent(a.data.name+'\n'+v)}`),alt:e.data.name,class:'card-image'},null,8,c),(0,t.createElementVNode)('div',s,(0,t.toDisplayString)(e.data.name),1)]),(0,t.createElementVNode)('div',o,[(0,t.createElementVNode)('div',d,[(0,t.createElementVNode)('p',l,(0,t.toDisplayString)(e.data.back_text),1)])])])],2);var v}}});var p=function t(n){var r=a[n];if(void 0!==r)return r.exports;var c=a[n]={exports:{}};return e[n](c,c.exports,t),c.exports}(502);const u=(0,p.A)(i,[['__scopeId','data-v-87d1e5f6']]),m={class:'visual-card-container'},v=(0,t.defineComponent)({__name:'App',setup(e){const a=(0,t.ref)([]);return(0,t.onMounted)(async()=>{const e=getCurrentMessageId();if(void 0===e)return;const t=getChatMessages(e);if(!t||0===t.length)return;const n=t[0].message.match(/<visual_cards>([\s\S]*?)<\/visual_cards>/);if(n&&n[1])try{const e=n[1].trim(),t=JSON.parse(e);Array.isArray(t)&&(a.value=t)}catch(e){console.error('Failed to parse visual cards JSON:',e)}}),(e,n)=>((0,t.openBlock)(),(0,t.createElementBlock)('div',m,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(a.value,(e,a)=>((0,t.openBlock)(),(0,t.createBlock)(u,{key:a,data:e},null,8,['data']))),128))]))}}),f=(0,p.A)(v,[['__scopeId','data-v-42da87ae']]);$(()=>{!function(){if($(`head > div[script_id="${getScriptId()}"]`).length>0)return;const e=$('<div>').attr('script_id',getScriptId()).append($('head > style',document).clone());$('head').append(e)}();(0,t.createApp)(f).mount('#app')});
//# sourceMappingURL=index.js.map</script><style>.visual-card[data-v-87d1e5f6]{width:150px;height:220px;perspective:1000px;cursor:pointer;margin:10px}.visual-card .card-inner[data-v-87d1e5f6]{position:relative;width:100%;height:100%;text-align:center;transition:transform .6s;transform-style:preserve-3d}.visual-card.flipped .card-inner[data-v-87d1e5f6]{transform:rotateY(180deg)}.visual-card .card-front[data-v-87d1e5f6],.visual-card .card-back[data-v-87d1e5f6]{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,.1);overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center}.visual-card .card-front[data-v-87d1e5f6]{background-color:#fff}.visual-card .card-front .card-image[data-v-87d1e5f6]{width:100%;height:100%;object-fit:cover}.visual-card .card-front .card-name[data-v-87d1e5f6]{position:absolute;bottom:0;width:100%;background:rgba(0,0,0,.5);color:#fff;padding:5px 0;font-size:14px}.visual-card .card-back[data-v-87d1e5f6]{background-color:#f8f9fa;color:#333;transform:rotateY(180deg);padding:15px}.visual-card .card-back .back-content[data-v-87d1e5f6]{display:flex;align-items:center;justify-content:center;height:100%}.visual-card .card-back .back-text[data-v-87d1e5f6]{font-size:14px;line-height:1.4}
.visual-card-container[data-v-42da87ae]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;padding:20px;width:100%}


/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div></body>