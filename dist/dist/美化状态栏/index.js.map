{"version":3,"file":"index.js","mappings":"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","sources":["src://tavern_helper_template/node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js","src://tavern_helper_template/webpack/bootstrap","src://tavern_helper_template/external var \"Vue\"","src://tavern_helper_template/src/美化状态栏/schema.ts","src://tavern_helper_template/src/美化状态栏/character-assets.ts","src://tavern_helper_template/src/美化状态栏/store.ts","webpack://tavern_helper_template/./src/美化状态栏/app.vue?3d39","webpack://tavern_helper_template/src/美化状态栏/app.vue?655b","src://tavern_helper_template/src/美化状态栏/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const __WEBPACK_NAMESPACE_OBJECT__ = Vue;","// ============================================================================\r\n// 踏月寻仙 - 简化的类型定义 (Simplified Type Definition for UI)\r\n// 用于前端界面读取 MVU 变量数据\r\n// ============================================================================\r\n\r\n// 物品类型\r\nexport interface Item {\r\n    名称: string;\r\n    描述: string;\r\n    品阶: string;\r\n    数量: number;\r\n}\r\n\r\n// 区域类型\r\nexport interface Region {\r\n    layer: '天层' | '地层' | '下层';\r\n    danger: number;\r\n    desc: string;\r\n    connections: string[];\r\n}\r\n\r\n// 本尊类型\r\nexport interface Protagonist {\r\n    // 修炼数据\r\n    等级: number;\r\n    修为: number;\r\n    灵根: string;\r\n    体质: string;\r\n    功法: string;\r\n    本命兵器: string;\r\n    神通列表?: Record<string, string>;\r\n    灵石: number;\r\n    已活岁月: number;\r\n    尝试突破: boolean;\r\n    // 衍生数据\r\n    突破阈值: number;\r\n    寿元上限: number;\r\n    境界描述: string;\r\n    寿元状态: string;\r\n    状态: string;\r\n    进度: string;\r\n    // 行踪\r\n    行踪: {\r\n        当前区域: string;\r\n        所属层级?: string;\r\n        环境描述?: string;\r\n        危险度?: number;\r\n        可用通道?: string[];\r\n        导航信息?: string;\r\n    };\r\n    // 身份\r\n    身份: {\r\n        姓名: string;\r\n        宗门: string;\r\n        出身: string;\r\n    };\r\n    // 物品\r\n    背包: Record<string, Item>;\r\n    法宝: Record<string, Item>;\r\n    杂物袋: Record<string, Item>;\r\n}\r\n\r\n// 红颜类型\r\nexport interface Companion {\r\n    // 修炼数据\r\n    等级: number;\r\n    修为: number;\r\n    灵根: string;\r\n    体质: string;\r\n    功法: string;\r\n    本命兵器: string;\r\n    神通列表?: Record<string, string>;\r\n    灵石: number;\r\n    已活岁月: number;\r\n    尝试突破: boolean;\r\n    // 衍生数据\r\n    突破阈值: number;\r\n    寿元上限: number;\r\n    境界描述: string;\r\n    寿元状态: string;\r\n    状态: string;\r\n    进度: string;\r\n    // 情感数据\r\n    好感度: number;\r\n    关系: string;\r\n    重要性: string;\r\n}\r\n\r\n// NPC 类型\r\nexport interface NPC {\r\n    // 修炼数据\r\n    等级: number;\r\n    修为: number;\r\n    灵根: string;\r\n    体质: string;\r\n    功法: string;\r\n    本命兵器: string;\r\n    神通列表?: Record<string, string>;\r\n    灵石: number;\r\n    已活岁月: number;\r\n    尝试突破: boolean;\r\n    // 衍生数据\r\n    突破阈值: number;\r\n    寿元上限: number;\r\n    境界描述: string;\r\n    寿元状态: string;\r\n    状态: string;\r\n    进度: string;\r\n    // NPC 数据\r\n    所在宗门: string;\r\n}\r\n\r\n// 完整的变量结构\r\nexport interface Schema {\r\n    世界时钟: {\r\n        纪元: string;\r\n        年份: number;\r\n    };\r\n    世界地图: Record<string, Region>;\r\n    世界图志: Record<\r\n        string,\r\n        {\r\n            状态: string;\r\n            事件: string;\r\n        }\r\n    >;\r\n    本尊: Protagonist;\r\n    红颜: Record<string, Companion>;\r\n    NPC图鉴: Record<string, NPC>;\r\n}\r\n\r\n// 配置常量\r\nexport const CONFIG = {\r\n    REALMS: {\r\n        MAJOR: ['练气', '筑基', '金丹', '元婴', '化神', '炼虚', '合体', '大乘', '渡劫'],\r\n        MINOR: ['初期', '中期', '后期', '大圆满'],\r\n    },\r\n    ELEMENTS: {\r\n        火: { effect: '灼烧', visual: '烈焰', nature: '爆裂', color: '#ff4444' },\r\n        水: { effect: '缠绕', visual: '激流', nature: '柔韧', color: '#4488ff' },\r\n        冰: { effect: '冻结', visual: '寒霜', nature: '极寒', color: '#88ddff' },\r\n        雷: { effect: '麻痹', visual: '紫电', nature: '狂暴', color: '#aa44ff' },\r\n        风: { effect: '切割', visual: '罡风', nature: '无形', color: '#88ff88' },\r\n        土: { effect: '镇压', visual: '岩铠', nature: '厚重', color: '#aa8844' },\r\n        木: { effect: '寄生', visual: '藤蔓', nature: '生生不息', color: '#44aa44' },\r\n        金: { effect: '穿透', visual: '锐金', nature: '锋利', color: '#ffdd44' },\r\n        暗: { effect: '腐蚀', visual: '黑雾', nature: '诡谲', color: '#442244' },\r\n        光: { effect: '净化', visual: '圣辉', nature: '神圣', color: '#ffffaa' },\r\n        混沌: { effect: '湮灭', visual: '灰光', nature: '虚无', color: '#888888' },\r\n    } as Record<string, { effect: string; visual: string; nature: string; color: string }>,\r\n};\r\n\r\n// 获取灵根元素颜色\r\nexport function getRootColor(root: string): string {\r\n    for (const [elem, data] of Object.entries(CONFIG.ELEMENTS)) {\r\n        if (root.includes(elem)) {\r\n            return data.color;\r\n        }\r\n    }\r\n    return '#aaaaaa'; // 默认灰色\r\n}\r\n\r\n// 获取境界等级颜色\r\nexport function getRealmColor(level: number): string {\r\n    const majorIdx = Math.floor((level - 1) / 4);\r\n    const colors = [\r\n        '#888888', // 练气 - 灰色\r\n        '#44aa44', // 筑基 - 绿色\r\n        '#4488ff', // 金丹 - 蓝色\r\n        '#aa44ff', // 元婴 - 紫色\r\n        '#ff4444', // 化神 - 红色\r\n        '#ffaa00', // 炼虚 - 橙色\r\n        '#ffdd44', // 合体 - 金色\r\n        '#ffffff', // 大乘 - 白色\r\n        '#ff88ff', // 渡劫 - 粉色\r\n    ];\r\n    return colors[majorIdx] || '#888888';\r\n}\r\n\r\n// 获取危险度颜色\r\nexport function getDangerColor(danger: number): string {\r\n    if (danger >= 90) return '#ff0000';\r\n    if (danger >= 70) return '#ff4400';\r\n    if (danger >= 50) return '#ff8800';\r\n    if (danger >= 30) return '#ffcc00';\r\n    return '#44aa44';\r\n}\r\n","// ============================================================================\r\n// 角色图片资源配置 (Character Assets Configuration)\r\n// 在这里配置所有角色的图片资源（正面和背面）\r\n// ============================================================================\r\n\r\n/**\r\n * 单个表情的图片配置\r\n */\r\nexport interface ExpressionImages {\r\n    /** 正面图片 URL */\r\n    front: string;\r\n    /** 背面图片 URL（可选，如果不填则使用正面图片） */\r\n    back?: string;\r\n}\r\n\r\n/**\r\n * 角色图片资源配置\r\n * 格式: { 角色名: { 表情代号: { front: 正面URL, back: 背面URL } } }\r\n *\r\n * 使用方法:\r\n * 1. 为每个角色创建一个对象\r\n * 2. 为每个表情/状态配置对应的正面和背面图片URL\r\n * 3. AI 输出时会根据 img_code 自动匹配对应的图片\r\n * 4. 如果不需要不同的背面图片，可以只填写 front，或使用简写形式\r\n */\r\nexport const CHARACTER_ASSETS: Record<string, Record<string, ExpressionImages | string>> = {\r\n    // ============================================================================\r\n    // 示例角色：孟十七\r\n    // ============================================================================\r\n    孟十七: {\r\n        // 完整配置示例（有不同的正面和背面）\r\n        normal: {\r\n            front: 'https://files.catbox.moe/c1su29.jpg', // 日常/平静 - 正面\r\n            back: 'https://files.catbox.moe/c1su29.jpg', // 日常/平静 - 背面（可以是不同的图片）\r\n        },\r\n        // 简写形式（正面和背面使用相同图片）\r\n        shy: 'https://files.catbox.moe/8doe0f.jpg', // 害羞/脸红\r\n        smile: 'https://files.catbox.moe/8doe0f.jpg', // 微笑/开心\r\n        angry: 'https://files.catbox.moe/c1su29.jpg', // 生气/鼓嘴\r\n        cry: 'https://files.catbox.moe/c1su29.jpg', // 哭泣/委屈\r\n        surprise: 'https://files.catbox.moe/8doe0f.jpg', // 惊讶/瞪眼\r\n    },\r\n\r\n    // ============================================================================\r\n    // 添加更多角色示例\r\n    // ============================================================================\r\n    // 角色名2: {\r\n    //   // 完整配置（不同的正面和背面）\r\n    //   normal: {\r\n    //     front: '正面图片URL',\r\n    //     back: '背面图片URL',\r\n    //   },\r\n    //   // 简写配置（正面和背面相同）\r\n    //   happy: '图片URL',\r\n    //   sad: '图片URL',\r\n    //   // ... 更多表情\r\n    // },\r\n};\r\n\r\n/**\r\n * 默认表情 - 当 AI 输出的 img_code 不存在时使用\r\n */\r\nexport const DEFAULT_EXPRESSION = 'normal';\r\n\r\n/**\r\n * 默认卡片背景 - 当角色没有配置图片时使用的占位图\r\n */\r\nexport const DEFAULT_PLACEHOLDER = 'https://files.catbox.moe/placeholder.jpg';\r\n\r\n/**\r\n * 标准化表情配置（将简写形式转换为完整形式）\r\n */\r\nfunction normalizeExpressionImages(config: ExpressionImages | string): ExpressionImages {\r\n    if (typeof config === 'string') {\r\n        return { front: config, back: config };\r\n    }\r\n    return { front: config.front, back: config.back ?? config.front };\r\n}\r\n\r\n/**\r\n * 获取角色正面图片URL\r\n * @param characterName 角色名\r\n * @param imgCode 表情代号\r\n * @returns 正面图片URL\r\n */\r\nexport function getCharacterImage(characterName: string, imgCode: string): string {\r\n    const character = CHARACTER_ASSETS[characterName];\r\n    if (!character) {\r\n        console.warn(`[图鉴] 未找到角色 \"${characterName}\" 的图片配置`);\r\n        return DEFAULT_PLACEHOLDER;\r\n    }\r\n\r\n    const config = character[imgCode] ?? character[DEFAULT_EXPRESSION];\r\n    if (!config) {\r\n        console.warn(`[图鉴] 角色 \"${characterName}\" 没有表情 \"${imgCode}\" 的图片`);\r\n        return DEFAULT_PLACEHOLDER;\r\n    }\r\n\r\n    return normalizeExpressionImages(config).front;\r\n}\r\n\r\n/**\r\n * 获取角色背面图片URL\r\n * @param characterName 角色名\r\n * @param imgCode 表情代号\r\n * @returns 背面图片URL\r\n */\r\nexport function getCharacterBackImage(characterName: string, imgCode: string): string {\r\n    const character = CHARACTER_ASSETS[characterName];\r\n    if (!character) {\r\n        console.warn(`[图鉴] 未找到角色 \"${characterName}\" 的图片配置`);\r\n        return DEFAULT_PLACEHOLDER;\r\n    }\r\n\r\n    const config = character[imgCode] ?? character[DEFAULT_EXPRESSION];\r\n    if (!config) {\r\n        console.warn(`[图鉴] 角色 \"${characterName}\" 没有表情 \"${imgCode}\" 的图片`);\r\n        return DEFAULT_PLACEHOLDER;\r\n    }\r\n\r\n    return normalizeExpressionImages(config).back!;\r\n}\r\n\r\n/**\r\n * 获取角色正面和背面图片URL\r\n * @param characterName 角色名\r\n * @param frontImgCode 正面表情代号\r\n * @param backImgCode 背面表情代号（可选，默认与正面相同）\r\n * @returns { front: 正面URL, back: 背面URL }\r\n */\r\nexport function getCharacterImages(\r\n    characterName: string,\r\n    frontImgCode: string,\r\n    backImgCode?: string,\r\n): { front: string; back: string } {\r\n    const front = getCharacterImage(characterName, frontImgCode);\r\n    const back = backImgCode\r\n        ? getCharacterImage(characterName, backImgCode)\r\n        : getCharacterBackImage(characterName, frontImgCode);\r\n    return { front, back };\r\n}\r\n\r\n/**\r\n * 获取角色所有可用的表情列表\r\n * @param characterName 角色名\r\n * @returns 表情代号列表\r\n */\r\nexport function getAvailableExpressions(characterName: string): string[] {\r\n    const character = CHARACTER_ASSETS[characterName];\r\n    return character ? Object.keys(character) : [];\r\n}\r\n\r\n/**\r\n * 检查角色是否已配置\r\n * @param characterName 角色名\r\n * @returns 是否已配置\r\n */\r\nexport function isCharacterConfigured(characterName: string): boolean {\r\n    return characterName in CHARACTER_ASSETS;\r\n}","import { getCharacterImages } from './character-assets';\n/**\n * 从消息内容中解析 <visual_cards> 标签\n * @param content 消息内容\n * @returns 解析出的视觉卡片数组\n */\nfunction parseVisualCards(content) {\n    try {\n        // 匹配 <visual_cards>...</visual_cards> 标签\n        const match = content.match(/<visual_cards>\\s*([\\s\\S]*?)\\s*<\\/visual_cards>/);\n        if (!match) {\n            return [];\n        }\n        const jsonStr = match[1].trim();\n        if (!jsonStr) {\n            return [];\n        }\n        // 解析 JSON 数组\n        const cards = JSON.parse(jsonStr);\n        // 验证数据结构\n        if (!Array.isArray(cards)) {\n            console.warn('[图鉴] visual_cards 不是数组');\n            return [];\n        }\n        return cards.filter(card => card.name && card.img_code);\n    }\n    catch (e) {\n        console.error('[图鉴] 解析 visual_cards 失败', e);\n        return [];\n    }\n}\n/**\n * 将 AI 输出的视觉卡片转换为图鉴卡片\n * @param visualCards AI 输出的视觉卡片\n * @returns 图鉴卡片数组\n */\nfunction convertToGalleryCards(visualCards) {\n    return visualCards.map(card => {\n        // 使用新的 getCharacterImages 函数获取正面和背面图片\n        const images = getCharacterImages(card.name, card.img_code, card.back_img_code);\n        return {\n            name: card.name,\n            front: images.front,\n            back: images.back,\n            backText: card.back_text || '',\n            isFlipped: false,\n        };\n    });\n}\nexport const useDataStore = defineStore('data', errorCatched(() => {\n    const message_id = getCurrentMessageId();\n    // 从 MVU 变量中获取 stat_data\n    const rawData = ref(null);\n    // 图鉴卡片数据\n    const galleryCards = ref([]);\n    // 初始化数据\n    const initData = () => {\n        try {\n            const variables = getVariables({ type: 'message', message_id });\n            const statData = _.get(variables, 'stat_data', null);\n            if (statData) {\n                rawData.value = statData;\n                console.info('[踏月寻仙] 成功加载变量数据', statData);\n            }\n            else {\n                console.warn('[踏月寻仙] 未找到 stat_data 变量');\n            }\n            // 解析当前楼层消息中的 visual_cards\n            parseCurrentMessageCards();\n        }\n        catch (e) {\n            console.error('[踏月寻仙] 加载变量数据失败', e);\n        }\n    };\n    // 解析当前楼层消息中的 visual_cards\n    const parseCurrentMessageCards = () => {\n        try {\n            // 获取当前消息内容\n            const messages = getChatMessages(message_id);\n            if (messages.length > 0) {\n                const content = messages[0].message || '';\n                const visualCards = parseVisualCards(content);\n                if (visualCards.length > 0) {\n                    galleryCards.value = convertToGalleryCards(visualCards);\n                    console.info('[图鉴] 解析到角色卡片', galleryCards.value);\n                }\n            }\n        }\n        catch (e) {\n            console.error('[图鉴] 解析消息卡片失败', e);\n        }\n    };\n    // 翻转卡片\n    const toggleCardFlip = (index) => {\n        if (galleryCards.value[index]) {\n            galleryCards.value[index].isFlipped = !galleryCards.value[index].isFlipped;\n        }\n    };\n    // 初始化\n    initData();\n    // 监听消息更新事件，实时刷新数据\n    eventOn(tavern_events.MESSAGE_UPDATED, (id) => {\n        if (id === message_id) {\n            initData();\n        }\n    });\n    // 计算属性：安全获取各部分数据\n    const 世界时钟 = computed(() => rawData.value?.世界时钟 ?? { 纪元: '末法时代', 年份: 1 });\n    const 世界地图 = computed(() => rawData.value?.世界地图 ?? {});\n    const 世界图志 = computed(() => rawData.value?.世界图志 ?? {});\n    const 本尊 = computed(() => rawData.value?.本尊 ?? {\n        等级: 1,\n        修为: 0,\n        灵根: '五行杂灵根',\n        体质: '凡体',\n        功法: '万象衍天诀',\n        本命兵器: '无',\n        灵石: 0,\n        已活岁月: 16,\n        尝试突破: false,\n        突破阈值: 100,\n        寿元上限: 100,\n        境界描述: '练气初期',\n        寿元状态: '16/100',\n        状态: '修炼中',\n        进度: '0.0%',\n        行踪: { 当前区域: '神州' },\n        身份: { 姓名: '无名氏', 宗门: '散修', 出身: '凡人' },\n        背包: {},\n        法宝: {},\n        杂物袋: {},\n    });\n    const 红颜 = computed(() => rawData.value?.红颜 ?? {});\n    const NPC图鉴 = computed(() => rawData.value?.NPC图鉴 ?? {});\n    // 是否有数据\n    const hasData = computed(() => rawData.value !== null);\n    // 是否有图鉴卡片\n    const hasGalleryCards = computed(() => galleryCards.value.length > 0);\n    return {\n        rawData,\n        世界时钟,\n        世界地图,\n        世界图志,\n        本尊,\n        红颜,\n        NPC图鉴,\n        hasData,\n        refresh: initData,\n        // 图鉴相关\n        galleryCards,\n        hasGalleryCards,\n        toggleCardFlip,\n        parseCurrentMessageCards,\n    };\n}));\n","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = { class: \"header\" };\nconst _hoisted_2 = [\"title\"];\nconst _hoisted_3 = { class: \"world-time\" };\nconst _hoisted_4 = { class: \"tab-nav\" };\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { class: \"content\" };\nconst _hoisted_7 = {\n    key: 0,\n    class: \"panel cultivation-panel\"\n};\nconst _hoisted_8 = { class: \"identity-section\" };\nconst _hoisted_9 = { class: \"identity-name\" };\nconst _hoisted_10 = { class: \"identity-info\" };\nconst _hoisted_11 = { class: \"realm-section\" };\nconst _hoisted_12 = { class: \"realm-status\" };\nconst _hoisted_13 = { class: \"progress-section\" };\nconst _hoisted_14 = { class: \"progress-label\" };\nconst _hoisted_15 = { class: \"progress-bar\" };\nconst _hoisted_16 = { class: \"progress-percent\" };\nconst _hoisted_17 = { class: \"stats-grid\" };\nconst _hoisted_18 = { class: \"stat-item\" };\nconst _hoisted_19 = { class: \"stat-item\" };\nconst _hoisted_20 = { class: \"stat-value\" };\nconst _hoisted_21 = { class: \"stat-item\" };\nconst _hoisted_22 = { class: \"stat-value\" };\nconst _hoisted_23 = { class: \"stat-item\" };\nconst _hoisted_24 = { class: \"stat-value\" };\nconst _hoisted_25 = { class: \"stat-item\" };\nconst _hoisted_26 = { class: \"stat-value gold\" };\nconst _hoisted_27 = { class: \"stat-item\" };\nconst _hoisted_28 = { class: \"stat-value\" };\nconst _hoisted_29 = { class: \"panel skills-panel\" };\nconst _hoisted_30 = { class: \"skills-list\" };\nconst _hoisted_31 = { class: \"skill-name\" };\nconst _hoisted_32 = { class: \"skill-desc\" };\nconst _hoisted_33 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_34 = { class: \"panel inventory-panel\" };\nconst _hoisted_35 = { class: \"inventory-section\" };\nconst _hoisted_36 = { class: \"items-grid\" };\nconst _hoisted_37 = { class: \"item-name\" };\nconst _hoisted_38 = { class: \"item-rank\" };\nconst _hoisted_39 = { class: \"item-desc\" };\nconst _hoisted_40 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_41 = { class: \"inventory-section\" };\nconst _hoisted_42 = { class: \"items-grid\" };\nconst _hoisted_43 = { class: \"item-header\" };\nconst _hoisted_44 = { class: \"item-name\" };\nconst _hoisted_45 = { class: \"item-count\" };\nconst _hoisted_46 = { class: \"item-rank\" };\nconst _hoisted_47 = { class: \"item-desc\" };\nconst _hoisted_48 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_49 = { class: \"panel companions-panel\" };\nconst _hoisted_50 = { class: \"companions-list\" };\nconst _hoisted_51 = { class: \"companion-header\" };\nconst _hoisted_52 = { class: \"companion-name\" };\nconst _hoisted_53 = { class: \"companion-relation\" };\nconst _hoisted_54 = { class: \"relation-value\" };\nconst _hoisted_55 = { class: \"companion-favor\" };\nconst _hoisted_56 = { class: \"favor-bar\" };\nconst _hoisted_57 = { class: \"favor-value\" };\nconst _hoisted_58 = {\n    key: 0,\n    class: \"empty-hint\"\n};\nconst _hoisted_59 = { class: \"panel map-panel\" };\nconst _hoisted_60 = { class: \"current-location\" };\nconst _hoisted_61 = { class: \"location-name\" };\nconst _hoisted_62 = { class: \"location-layer\" };\nconst _hoisted_63 = { class: \"location-desc\" };\nconst _hoisted_64 = { class: \"connections\" };\nconst _hoisted_65 = { class: \"connections-list\" };\nconst _hoisted_66 = { class: \"panel gallery-panel\" };\nconst _hoisted_67 = {\n    key: 0,\n    class: \"gallery-container\"\n};\nconst _hoisted_68 = [\"onClick\"];\nconst _hoisted_69 = { class: \"card-inner\" };\nconst _hoisted_70 = { class: \"card-face card-front\" };\nconst _hoisted_71 = [\"src\", \"alt\"];\nconst _hoisted_72 = { class: \"card-name-bar\" };\nconst _hoisted_73 = { class: \"card-face card-back\" };\nconst _hoisted_74 = { class: \"back-content\" };\nconst _hoisted_75 = [\"src\", \"alt\"];\nconst _hoisted_76 = { class: \"back-info-panel\" };\nconst _hoisted_77 = { class: \"back-name\" };\nconst _hoisted_78 = { class: \"back-text\" };\nconst _hoisted_79 = {\n    key: 1,\n    class: \"empty-hint\"\n};\nconst _hoisted_80 = { class: \"footer\" };\nconst _hoisted_81 = { class: \"footer-item\" };\nconst _hoisted_82 = { class: \"footer-item\" };\nimport { getDangerColor, getRealmColor, getRootColor } from './schema';\nimport { useDataStore } from './store';\n\nimport { ref, computed } from 'vue';\nexport default /*@__PURE__*/ _defineComponent({\n    __name: 'app',\n    setup(__props) {\n        const store = useDataStore();\n        // 标签页配置\n        const tabs = [\n            { id: 'cultivation', label: '修炼', icon: 'fa-solid fa-yin-yang' },\n            { id: 'skills', label: '神通', icon: 'fa-solid fa-hand-sparkles' },\n            { id: 'inventory', label: '背包', icon: 'fa-solid fa-box-open' },\n            { id: 'companions', label: '红颜', icon: 'fa-solid fa-heart' },\n            { id: 'map', label: '行踪', icon: 'fa-solid fa-map' },\n            { id: 'gallery', label: '图鉴', icon: 'fa-solid fa-images' },\n        ];\n        const activeTab = ref('cultivation');\n        const isCollapsed = ref(false);\n        // 切换折叠状态\n        const toggleCollapse = () => {\n            isCollapsed.value = !isCollapsed.value;\n        };\n        // 计算属性\n        const realmColor = computed(() => getRealmColor(store.本尊.等级));\n        const rootColor = computed(() => getRootColor(store.本尊.灵根));\n        const dangerColor = computed(() => getDangerColor(store.本尊.行踪.危险度 || 10));\n        const locationColor = computed(() => {\n            const layer = store.本尊.行踪.所属层级;\n            if (layer === '天层')\n                return '#88ddff';\n            if (layer === '下层')\n                return '#ff4444';\n            return '#44aa44';\n        });\n        // 获取区域颜色\n        const getRegionColor = (region) => {\n            const map = store.世界地图;\n            const info = map[region];\n            if (!info)\n                return '#888888';\n            return getDangerColor(info.danger);\n        };\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                class: _normalizeClass([\"cultivation-status\", { collapsed: _unref(isCollapsed) }])\n            }, [\n                _createCommentVNode(\" 顶部：折叠按钮 + 世界时钟与位置 \"),\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"button\", {\n                        class: \"collapse-btn\",\n                        onClick: toggleCollapse,\n                        title: _unref(isCollapsed) ? '展开状态栏' : '收起状态栏'\n                    }, [\n                        _createElementVNode(\"i\", {\n                            class: _normalizeClass(_unref(isCollapsed) ? 'fa-solid fa-chevron-down' : 'fa-solid fa-chevron-up')\n                        }, null, 2 /* CLASS */)\n                    ], 8 /* PROPS */, _hoisted_2),\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _cache[0] || (_cache[0] = _createElementVNode(\"i\", { class: \"fa-solid fa-moon\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).世界时钟.纪元) + \" · 第\" + _toDisplayString(_unref(store).世界时钟.年份) + \"年\", 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", {\n                        class: \"location\",\n                        style: _normalizeStyle({ color: _unref(locationColor) })\n                    }, [\n                        _cache[1] || (_cache[1] = _createElementVNode(\"i\", { class: \"fa-solid fa-location-dot\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.行踪.当前区域), 1 /* TEXT */),\n                        _createElementVNode(\"span\", {\n                            class: \"danger-badge\",\n                            style: _normalizeStyle({ backgroundColor: _unref(dangerColor) })\n                        }, \" 危险度 \" + _toDisplayString(_unref(store).本尊.行踪.危险度 || 10), 5 /* TEXT, STYLE */)\n                    ], 4 /* STYLE */)\n                ]),\n                _createCommentVNode(\" 主体：标签页导航 \"),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    (_openBlock(), _createElementBlock(_Fragment, null, _renderList(tabs, (tab) => {\n                        return _createElementVNode(\"button\", {\n                            key: tab.id,\n                            class: _normalizeClass(['tab-btn', { active: _unref(activeTab) === tab.id }]),\n                            onClick: ($event) => (activeTab.value = tab.id)\n                        }, [\n                            _createElementVNode(\"i\", {\n                                class: _normalizeClass(tab.icon)\n                            }, null, 2 /* CLASS */),\n                            _createTextVNode(\" \" + _toDisplayString(tab.label), 1 /* TEXT */)\n                        ], 10 /* CLASS, PROPS */, _hoisted_5);\n                    }), 64 /* STABLE_FRAGMENT */))\n                ]),\n                _createCommentVNode(\" 内容区域 \"),\n                _createElementVNode(\"div\", _hoisted_6, [\n                    _createCommentVNode(\" 修炼面板 \"),\n                    (_unref(activeTab) === 'cultivation')\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                            _createElementVNode(\"div\", _hoisted_8, [\n                                _createElementVNode(\"div\", _hoisted_9, _toDisplayString(_unref(store).本尊.身份.姓名), 1 /* TEXT */),\n                                _createElementVNode(\"div\", _hoisted_10, [\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.身份.宗门), 1 /* TEXT */),\n                                    _cache[2] || (_cache[2] = _createElementVNode(\"span\", { class: \"divider\" }, \"·\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.身份.出身), 1 /* TEXT */)\n                                ])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_11, [\n                                _createElementVNode(\"div\", {\n                                    class: \"realm-title\",\n                                    style: _normalizeStyle({ color: _unref(realmColor) })\n                                }, [\n                                    _cache[3] || (_cache[3] = _createElementVNode(\"i\", { class: \"fa-solid fa-yin-yang\" }, null, -1 /* CACHED */)),\n                                    _createTextVNode(\" \" + _toDisplayString(_unref(store).本尊.境界描述), 1 /* TEXT */)\n                                ], 4 /* STYLE */),\n                                _createElementVNode(\"div\", _hoisted_12, _toDisplayString(_unref(store).本尊.状态), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_13, [\n                                _createElementVNode(\"div\", _hoisted_14, [\n                                    _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"修为进度\", -1 /* CACHED */)),\n                                    _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.修为) + \" / \" + _toDisplayString(_unref(store).本尊.突破阈值), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_15, [\n                                    _createElementVNode(\"div\", {\n                                        class: \"progress-fill\",\n                                        style: _normalizeStyle({ width: _unref(store).本尊.进度, backgroundColor: _unref(realmColor) })\n                                    }, null, 4 /* STYLE */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_16, _toDisplayString(_unref(store).本尊.进度), 1 /* TEXT */)\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_17, [\n                                _createElementVNode(\"div\", _hoisted_18, [\n                                    _cache[5] || (_cache[5] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"灵根\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", {\n                                        class: \"stat-value\",\n                                        style: _normalizeStyle({ color: _unref(rootColor) })\n                                    }, _toDisplayString(_unref(store).本尊.灵根), 5 /* TEXT, STYLE */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_19, [\n                                    _cache[6] || (_cache[6] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"体质\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_20, _toDisplayString(_unref(store).本尊.体质), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_21, [\n                                    _cache[7] || (_cache[7] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"功法\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_22, _toDisplayString(_unref(store).本尊.功法), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_23, [\n                                    _cache[8] || (_cache[8] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"本命兵器\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_24, _toDisplayString(_unref(store).本尊.本命兵器), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_25, [\n                                    _cache[9] || (_cache[9] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"灵石\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_26, _toDisplayString(_unref(store).本尊.灵石), 1 /* TEXT */)\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_27, [\n                                    _cache[10] || (_cache[10] = _createElementVNode(\"div\", { class: \"stat-label\" }, \"寿元\", -1 /* CACHED */)),\n                                    _createElementVNode(\"div\", _hoisted_28, _toDisplayString(_unref(store).本尊.寿元状态), 1 /* TEXT */)\n                                ])\n                            ])\n                        ]))\n                        : (_unref(activeTab) === 'skills')\n                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 1 }, [\n                                _createCommentVNode(\" 神通面板 \"),\n                                _createElementVNode(\"div\", _hoisted_29, [\n                                    _createElementVNode(\"div\", _hoisted_30, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.神通列表, (desc, name) => {\n                                            return (_openBlock(), _createElementBlock(\"div\", {\n                                                key: name,\n                                                class: \"skill-item\"\n                                            }, [\n                                                _createElementVNode(\"div\", _hoisted_31, _toDisplayString(name), 1 /* TEXT */),\n                                                _createElementVNode(\"div\", _hoisted_32, _toDisplayString(desc), 1 /* TEXT */)\n                                            ]));\n                                        }), 128 /* KEYED_FRAGMENT */)),\n                                        (!_unref(store).本尊.神通列表 || Object.keys(_unref(store).本尊.神通列表).length === 0)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, \" 尚未领悟任何神通 \"))\n                                            : _createCommentVNode(\"v-if\", true)\n                                    ])\n                                ])\n                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                            : (_unref(activeTab) === 'inventory')\n                                ? (_openBlock(), _createElementBlock(_Fragment, { key: 2 }, [\n                                    _createCommentVNode(\" 背包面板 \"),\n                                    _createElementVNode(\"div\", _hoisted_34, [\n                                        _createElementVNode(\"div\", _hoisted_35, [\n                                            _cache[11] || (_cache[11] = _createElementVNode(\"div\", { class: \"section-title\" }, [\n                                                _createElementVNode(\"i\", { class: \"fa-solid fa-gem\" }),\n                                                _createTextVNode(\" 法宝 \")\n                                            ], -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_36, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.法宝, (item, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: key,\n                                                        class: \"item-card treasure\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_37, _toDisplayString(item.名称), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_38, _toDisplayString(item.品阶), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_39, _toDisplayString(item.描述), 1 /* TEXT */)\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).本尊.法宝).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_40, \"空空如也\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ]),\n                                        _createElementVNode(\"div\", _hoisted_41, [\n                                            _cache[12] || (_cache[12] = _createElementVNode(\"div\", { class: \"section-title\" }, [\n                                                _createElementVNode(\"i\", { class: \"fa-solid fa-box-open\" }),\n                                                _createTextVNode(\" 背包 \")\n                                            ], -1 /* CACHED */)),\n                                            _createElementVNode(\"div\", _hoisted_42, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.背包, (item, key) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: key,\n                                                        class: \"item-card\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_43, [\n                                                            _createElementVNode(\"span\", _hoisted_44, _toDisplayString(item.名称), 1 /* TEXT */),\n                                                            _createElementVNode(\"span\", _hoisted_45, \"×\" + _toDisplayString(item.数量), 1 /* TEXT */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_46, _toDisplayString(item.品阶), 1 /* TEXT */),\n                                                        _createElementVNode(\"div\", _hoisted_47, _toDisplayString(item.描述), 1 /* TEXT */)\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).本尊.背包).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_48, \"空空如也\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ])\n                                    ])\n                                ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                : (_unref(activeTab) === 'companions')\n                                    ? (_openBlock(), _createElementBlock(_Fragment, { key: 3 }, [\n                                        _createCommentVNode(\" 红颜面板 \"),\n                                        _createElementVNode(\"div\", _hoisted_49, [\n                                            _createElementVNode(\"div\", _hoisted_50, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).红颜, (companion, name) => {\n                                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                                        key: name,\n                                                        class: \"companion-card\"\n                                                    }, [\n                                                        _createElementVNode(\"div\", _hoisted_51, [\n                                                            _createElementVNode(\"span\", _hoisted_52, _toDisplayString(name), 1 /* TEXT */),\n                                                            _createElementVNode(\"span\", {\n                                                                class: \"companion-realm\",\n                                                                style: _normalizeStyle({ color: _unref(getRealmColor)(companion.等级) })\n                                                            }, _toDisplayString(companion.境界描述), 5 /* TEXT, STYLE */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_53, [\n                                                            _cache[13] || (_cache[13] = _createElementVNode(\"span\", { class: \"relation-label\" }, \"关系:\", -1 /* CACHED */)),\n                                                            _createElementVNode(\"span\", _hoisted_54, _toDisplayString(companion.关系), 1 /* TEXT */)\n                                                        ]),\n                                                        _createElementVNode(\"div\", _hoisted_55, [\n                                                            _cache[14] || (_cache[14] = _createElementVNode(\"div\", { class: \"favor-label\" }, \"好感度\", -1 /* CACHED */)),\n                                                            _createElementVNode(\"div\", _hoisted_56, [\n                                                                _createElementVNode(\"div\", {\n                                                                    class: \"favor-fill\",\n                                                                    style: _normalizeStyle({\n                                                                        width: `${Math.abs(companion.好感度)}%`,\n                                                                        backgroundColor: companion.好感度 >= 0 ? '#ff6b9d' : '#6b7fff',\n                                                                    })\n                                                                }, null, 4 /* STYLE */)\n                                                            ]),\n                                                            _createElementVNode(\"div\", _hoisted_57, _toDisplayString(companion.好感度), 1 /* TEXT */)\n                                                        ])\n                                                    ]));\n                                                }), 128 /* KEYED_FRAGMENT */)),\n                                                (Object.keys(_unref(store).红颜).length === 0)\n                                                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_58, \"孑然一身，尚无红颜知己\"))\n                                                    : _createCommentVNode(\"v-if\", true)\n                                            ])\n                                        ])\n                                    ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                    : (_unref(activeTab) === 'map')\n                                        ? (_openBlock(), _createElementBlock(_Fragment, { key: 4 }, [\n                                            _createCommentVNode(\" 地图面板 \"),\n                                            _createElementVNode(\"div\", _hoisted_59, [\n                                                _createElementVNode(\"div\", _hoisted_60, [\n                                                    _createElementVNode(\"div\", _hoisted_61, _toDisplayString(_unref(store).本尊.行踪.当前区域), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_62, _toDisplayString(_unref(store).本尊.行踪.所属层级), 1 /* TEXT */),\n                                                    _createElementVNode(\"div\", _hoisted_63, _toDisplayString(_unref(store).本尊.行踪.环境描述), 1 /* TEXT */)\n                                                ]),\n                                                _createElementVNode(\"div\", _hoisted_64, [\n                                                    _cache[15] || (_cache[15] = _createElementVNode(\"div\", { class: \"connections-title\" }, \"可通往：\", -1 /* CACHED */)),\n                                                    _createElementVNode(\"div\", _hoisted_65, [\n                                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).本尊.行踪.可用通道, (conn) => {\n                                                            return (_openBlock(), _createElementBlock(\"span\", {\n                                                                key: conn,\n                                                                class: \"connection-item\",\n                                                                style: _normalizeStyle({ borderColor: getRegionColor(conn) })\n                                                            }, _toDisplayString(conn), 5 /* TEXT, STYLE */));\n                                                        }), 128 /* KEYED_FRAGMENT */))\n                                                    ])\n                                                ])\n                                            ])\n                                        ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                        : (_unref(activeTab) === 'gallery')\n                                            ? (_openBlock(), _createElementBlock(_Fragment, { key: 5 }, [\n                                                _createCommentVNode(\" 图鉴面板 - 按比例展示卡片 \"),\n                                                _createElementVNode(\"div\", _hoisted_66, [\n                                                    (_unref(store).hasGalleryCards)\n                                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_67, [\n                                                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(store).galleryCards, (card, index) => {\n                                                                return (_openBlock(), _createElementBlock(\"div\", {\n                                                                    key: index,\n                                                                    class: _normalizeClass([\"gallery-card\", { flipped: card.isFlipped }]),\n                                                                    onClick: ($event) => (_unref(store).toggleCardFlip(index))\n                                                                }, [\n                                                                    _createElementVNode(\"div\", _hoisted_69, [\n                                                                        _createCommentVNode(\" 正面 \"),\n                                                                        _createElementVNode(\"div\", _hoisted_70, [\n                                                                            _createElementVNode(\"img\", {\n                                                                                src: card.front,\n                                                                                alt: card.name\n                                                                            }, null, 8 /* PROPS */, _hoisted_71),\n                                                                            _createElementVNode(\"div\", _hoisted_72, _toDisplayString(card.name), 1 /* TEXT */)\n                                                                        ]),\n                                                                        _createCommentVNode(\" 背面 \"),\n                                                                        _createElementVNode(\"div\", _hoisted_73, [\n                                                                            _createElementVNode(\"div\", _hoisted_74, [\n                                                                                _createElementVNode(\"img\", {\n                                                                                    src: card.back,\n                                                                                    alt: card.name,\n                                                                                    class: \"back-image\"\n                                                                                }, null, 8 /* PROPS */, _hoisted_75),\n                                                                                _createElementVNode(\"div\", _hoisted_76, [\n                                                                                    _createElementVNode(\"div\", _hoisted_77, _toDisplayString(card.name), 1 /* TEXT */),\n                                                                                    _createElementVNode(\"div\", _hoisted_78, \"「\" + _toDisplayString(card.backText) + \"」\", 1 /* TEXT */)\n                                                                                ])\n                                                                            ])\n                                                                        ])\n                                                                    ])\n                                                                ], 10 /* CLASS, PROPS */, _hoisted_68));\n                                                            }), 128 /* KEYED_FRAGMENT */))\n                                                        ]))\n                                                        : (_openBlock(), _createElementBlock(\"div\", _hoisted_79, \" 当前场景暂无角色卡片 \"))\n                                                ])\n                                            ], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))\n                                            : _createCommentVNode(\"v-if\", true)\n                ]),\n                _createCommentVNode(\" 底部：快捷信息 \"),\n                _createElementVNode(\"div\", _hoisted_80, [\n                    _createElementVNode(\"div\", _hoisted_81, [\n                        _cache[16] || (_cache[16] = _createElementVNode(\"i\", { class: \"fa-solid fa-coins\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.灵石) + \" 灵石\", 1 /* TEXT */)\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_82, [\n                        _cache[17] || (_cache[17] = _createElementVNode(\"i\", { class: \"fa-solid fa-heart\" }, null, -1 /* CACHED */)),\n                        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).本尊.寿元状态), 1 /* TEXT */)\n                    ])\n                ])\n            ], 2 /* CLASS */));\n        };\n    }\n});\n","/* unplugin-vue-components disabled */import script from \"./app.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./app.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./app.vue?vue&type=style&index=0&id=3938306e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/.pnpm/vue-loader@17.4.2_vue@3.5.2_fcc8164c33ab268660e3819796c9f485/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3938306e\"]])\n\nexport default __exports__","import { createPinia } from 'pinia';\nimport { createApp } from 'vue';\nimport App from './app.vue';\n\n$(() => {\n  const pinia = createPinia();\n  const app = createApp(App);\n\n  app.use(pinia);\n  app.mount('#app');\n\n  console.info('[踏月寻仙] 状态栏界面已加载');\n});\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","__webpack_module_cache__","Vue","CONFIG","effect","visual","nature","color","getRealmColor","level","Math","floor","getDangerColor","danger","CHARACTER_ASSETS","normal","front","back","shy","smile","angry","cry","surprise","DEFAULT_EXPRESSION","DEFAULT_PLACEHOLDER","normalizeExpressionImages","config","getCharacterImage","characterName","imgCode","character","console","warn","getCharacterImages","frontImgCode","backImgCode","getCharacterBackImage","useDataStore","errorCatched","message_id","getCurrentMessageId","rawData","ref","galleryCards","initData","variables","getVariables","type","statData","_","get","value","info","parseCurrentMessageCards","e","error","messages","getChatMessages","length","visualCards","content","match","jsonStr","trim","cards","JSON","parse","Array","isArray","filter","card","name","img_code","parseVisualCards","message","map","images","back_img_code","backText","back_text","isFlipped","convertToGalleryCards","eventOn","tavern_events","MESSAGE_UPDATED","id","computed","hasData","hasGalleryCards","refresh","toggleCardFlip","index","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","__name","setup","__props","store","tabs","label","icon","activeTab","isCollapsed","toggleCollapse","realmColor","rootColor","root","elem","data","Object","entries","includes","getRootColor","dangerColor","locationColor","layer","getRegionColor","region","_ctx","_cache","collapsed","onClick","title","style","backgroundColor","tab","active","$event","width","desc","keys","item","companion","abs","conn","borderColor","flipped","src","alt","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","$","pinia","app","createApp","use","mount"],"ignoreList":[],"sourceRoot":""}